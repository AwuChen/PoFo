<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Interactive Radial Graph</title>
  <style>
    body { margin: 0; font-family: sans-serif; background: #f9f9f9; }
    #controls { position: absolute; top: 10px; left: 10px; z-index: 10; }
    select { padding: 6px 10px; font-size: 14px; }
    canvas { display: block; }
  </style>
</head>
<body>
  <div id="controls">
    <select id="categorySelector" onchange="filterCategory(this.value)">
      <option value="ALL">All Categories</option>
      <option value="INVESTMENT">INVESTMENT</option>
      <option value="FORCES">FORCES</option>
      <option value="CONSULTANCIES">CONSULTANCIES</option>
      <option value="CITIES.CULTURE.ART">CITIES.CULTURE.ART</option>
      <option value="ECOSYSTEMS">ECOSYSTEMS</option>
      <option value="YESTERYEARS">YESTERYEARS</option>
    </select>
  </div>

  <script src="https://unpkg.com/force-graph"></script>
  <script>
    const Graph = ForceGraph()(document.body);

    // Sample Data (Replace this with your real data)
    const nodes = [
      { id: 1, label: 'URF / TX THE BOX', category: 'INVESTMENT', fx: -300, fy: 200 },
      { id: 2, label: 'DONGHAI', category: 'INVESTMENT', fx: 0, fy: -300 },
      { id: 3, label: 'ART BANK', category: 'INVESTMENT', fx: 300, fy: -100 },
      { id: 4, label: 'ARAMIS', category: 'INVESTMENT', fx: -200, fy: -200 },
      { id: 5, label: 'SAUVEREIGN', category: 'INVESTMENT', fx: 350, fy: 250 },
      { id: 6, label: 'DANDELION', category: 'INVESTMENT', fx: 200, fy: 150 }
      // Add more nodes...
    ];

    const links = [
      { source: 1, target: 2 },
      { source: 2, target: 3 },
      { source: 3, target: 4 },
      { source: 4, target: 5 },
      { source: 5, target: 6 },
      { source: 6, target: 1 }
      // Add more links...
    ];

    // Add visibility flags to data
    nodes.forEach(n => n.visible = true);
    links.forEach(l => l.visible = true);

    Graph
      .graphData({ nodes, links })
      .nodeCanvasObject((node, ctx, globalScale) => {
        if (!node.visible) return;
        const label = node.label || '';
        const fontSize = 12 / globalScale;
        ctx.font = `${fontSize}px Sans-serif`;
        ctx.fillStyle = '#333';
        ctx.beginPath();
        ctx.arc(node.x, node.y, 6, 0, 2 * Math.PI, false);
        ctx.fill();

        // Optional label
        ctx.fillText(label, node.x + 8, node.y + 4);
      })
      .linkWidth(link => link.visible ? 1 : 0)
      .linkColor(link => link.visible ? '#aaa' : 'rgba(0,0,0,0)')
      .nodeRelSize(6)
      .enableNodeDrag(false)
      .cooldownTicks(0)
      .d3AlphaDecay(0.01);

    function filterCategory(category) {
      nodes.forEach(n => {
        n.visible = category === 'ALL' || n.category === category;
      });

      links.forEach(l => {
        const source = nodes.find(n => n.id === l.source);
        const target = nodes.find(n => n.id === l.target);
        l.visible = category === 'ALL' || (source.visible && target.visible);
      });

      Graph.graphData({ nodes, links });
    }
  </script>
</body>
</html>
